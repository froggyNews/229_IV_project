{
  "config": {
    "tickers": [
      "QBTS",
      "IONQ",
      "RGTI",
      "QUBT"
    ],
    "start": "2025-06-02",
    "end": "2025-08-06",
    "forward_steps": 15,
    "test_frac": 0.2,
    "timestamp": "20250828_175015",
    "db_path": "data\\iv_data_1h.db",
    "output_dir": "outputs",
    "xgb_params": {
      "objective": "reg:squarederror",
      "n_estimators": 350,
      "learning_rate": 0.05,
      "max_depth": 6,
      "subsample": 0.9,
      "colsample_bytree": 0.9,
      "random_state": 42,
      "n_jobs": -1,
      "tree_method": "hist"
    },
    "peer_targets": [
      "QBTS",
      "IONQ",
      "RGTI",
      "QUBT"
    ],
    "peer_target_kinds": [
      "iv_ret",
      "iv"
    ],
    "tolerance": "2s",
    "drop_zero_iv_ret": true,
    "save_per_row": false
  },
  "pooled_models": {
    "iv_ret_fwd": {
      "rmse": 0.20396144713947287,
      "r2": 0.02562422680894183,
      "n_train": 384,
      "n_test": 96,
      "features": [
        "panel_IV_QBTS",
        "panel_IV_IONQ",
        "panel_IV_RGTI",
        "panel_IV_QUBT",
        "panel_IVRET_QBTS",
        "panel_IVRET_IONQ",
        "panel_IVRET_RGTI",
        "panel_IVRET_QUBT",
        "sym_QBTS",
        "sym_IONQ",
        "sym_RGTI",
        "sym_QUBT"
      ]
    },
    "iv_clip": {
      "rmse": 0.9726818633353197,
      "r2": 0.0848346599801314,
      "n_train": 384,
      "n_test": 96,
      "features": [
        "panel_IV_QBTS",
        "panel_IV_IONQ",
        "panel_IV_RGTI",
        "panel_IV_QUBT"
      ]
    }
  },
  "peer_effects": {
    "QBTS_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.305829657954532,
        "r2": 0.2723858457318259,
        "n_train": 84,
        "n_test": 21,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 105,
        "n_features": 18
      }
    },
    "IONQ_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.26308123088448193,
        "r2": 0.275554291769587,
        "n_train": 103,
        "n_test": 26,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 129,
        "n_features": 18
      }
    },
    "RGTI_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.13829026274160294,
        "r2": 0.4897931652669544,
        "n_train": 112,
        "n_test": 29,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 141,
        "n_features": 18
      }
    },
    "QUBT_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.1463196039393276,
        "r2": 0.5119205473654541,
        "n_train": 84,
        "n_test": 21,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 105,
        "n_features": 18
      }
    },
    "QBTS_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.05669884069432763,
        "r2": 0.9787812526614534,
        "n_train": 96,
        "n_test": 24,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 120,
        "n_features": 18
      }
    },
    "IONQ_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.023661437226401256,
        "r2": 0.9921676654406912,
        "n_train": 115,
        "n_test": 29,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 144,
        "n_features": 18
      }
    },
    "RGTI_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.019718119871585248,
        "r2": 0.9795386101245948,
        "n_train": 124,
        "n_test": 32,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 156,
        "n_features": 18
      }
    },
    "QUBT_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.04971058595776136,
        "r2": 0.8857982599326032,
        "n_train": 96,
        "n_test": 24,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 120,
        "n_features": 18
      }
    }
  },
  "baseline_correlations": {
    "iv_levels": {
      "correlation_matrix": {
        "QBTS": {
          "QBTS": 1.0,
          "IONQ": -0.08094126135912574,
          "RGTI": 0.0004952564971609742,
          "QUBT": 0.07032250340354065
        },
        "IONQ": {
          "QBTS": -0.08094126135912574,
          "IONQ": 1.0,
          "RGTI": 0.4682115874363929,
          "QUBT": 0.46876195895797906
        },
        "RGTI": {
          "QBTS": 0.0004952564971609742,
          "IONQ": 0.4682115874363929,
          "RGTI": 1.0,
          "QUBT": 0.3984928455779225
        },
        "QUBT": {
          "QBTS": 0.07032250340354065,
          "IONQ": 0.46876195895797906,
          "RGTI": 0.3984928455779225,
          "QUBT": 1.0
        }
      },
      "description": "Historical correlation matrix of IV levels",
      "n_tickers": 4
    },
    "iv_returns": {
      "correlation_matrix": {
        "QBTS": {
          "QBTS": 1.0,
          "IONQ": 0.03091131566075886,
          "RGTI": 0.031229272542424257,
          "QUBT": 0.05069860643530815
        },
        "IONQ": {
          "QBTS": 0.03091131566075886,
          "IONQ": 1.0,
          "RGTI": 0.23580394705289398,
          "QUBT": 0.2684123591497304
        },
        "RGTI": {
          "QBTS": 0.031229272542424257,
          "IONQ": 0.23580394705289398,
          "RGTI": 1.0,
          "QUBT": 0.33576574473193205
        },
        "QUBT": {
          "QBTS": 0.05069860643530815,
          "IONQ": 0.2684123591497304,
          "RGTI": 0.33576574473193205,
          "QUBT": 1.0
        }
      },
      "description": "Historical correlation matrix of IV returns",
      "n_tickers": 4
    }
  },
  "peer_group_analysis": {},
  "evaluation": {
    "pooled_iv_ret_fwd": {
      "metrics": {
        "RMSE": 0.20396144713947287,
        "R2": 0.02562422680894183,
        "n_train": 384,
        "n_test": 96,
        "n_features": 12,
        "tickers": [
          "QBTS",
          "IONQ",
          "RGTI",
          "QUBT"
        ],
        "start": "2025-06-02T00:00:00+00:00",
        "end": "2025-08-06T00:00:00+00:00",
        "forward_steps": 15,
        "tolerance": "2s",
        "test_frac": 0.2,
        "model_path": "outputs\\models\\pooled_iv_ret_fwd_20250828_175015.json"
      },
      "xgb_importances": [
        {
          "feature": "panel_IVRET_QUBT",
          "gain": 0.024962950497865677,
          "weight": 177.0,
          "cover": 210.94915771484375,
          "total_gain": 4.418442249298096,
          "total_cover": 37338.0
        },
        {
          "feature": "panel_IVRET_QBTS",
          "gain": 0.019730880856513977,
          "weight": 273.0,
          "cover": 167.04029846191406,
          "total_gain": 5.38653039932251,
          "total_cover": 45602.0
        },
        {
          "feature": "panel_IVRET_IONQ",
          "gain": 0.019578348845243454,
          "weight": 377.0,
          "cover": 169.44561767578125,
          "total_gain": 7.381037712097168,
          "total_cover": 63881.0
        },
        {
          "feature": "panel_IV_QUBT",
          "gain": 0.01945362240076065,
          "weight": 486.0,
          "cover": 159.1481475830078,
          "total_gain": 9.454460144042969,
          "total_cover": 77346.0
        },
        {
          "feature": "panel_IVRET_RGTI",
          "gain": 0.01732829585671425,
          "weight": 318.0,
          "cover": 174.60691833496094,
          "total_gain": 5.510397911071777,
          "total_cover": 55525.0
        },
        {
          "feature": "sym_QBTS",
          "gain": 0.016427047550678253,
          "weight": 185.0,
          "cover": 127.09729766845703,
          "total_gain": 3.039003849029541,
          "total_cover": 23513.0
        },
        {
          "feature": "sym_RGTI",
          "gain": 0.015856483951210976,
          "weight": 88.0,
          "cover": 112.03408813476562,
          "total_gain": 1.395370602607727,
          "total_cover": 9859.0
        },
        {
          "feature": "panel_IV_RGTI",
          "gain": 0.014250109903514385,
          "weight": 470.0,
          "cover": 122.8021240234375,
          "total_gain": 6.697551727294922,
          "total_cover": 57717.0
        },
        {
          "feature": "sym_IONQ",
          "gain": 0.013595988973975182,
          "weight": 247.0,
          "cover": 91.87044525146484,
          "total_gain": 3.3582093715667725,
          "total_cover": 22692.0
        },
        {
          "feature": "panel_IV_IONQ",
          "gain": 0.012051304802298546,
          "weight": 858.0,
          "cover": 99.18415069580078,
          "total_gain": 10.340019226074219,
          "total_cover": 85100.0
        },
        {
          "feature": "panel_IV_QBTS",
          "gain": 0.011997836641967297,
          "weight": 2095.0,
          "cover": 75.76897430419922,
          "total_gain": 25.135467529296875,
          "total_cover": 158736.0
        },
        {
          "feature": "sym_QUBT",
          "gain": 0.004464706405997276,
          "weight": 57.0,
          "cover": 103.54386138916016,
          "total_gain": 0.2544882595539093,
          "total_cover": 5902.0
        }
      ],
      "permutation_importances": [
        {
          "feature": "panel_IV_QBTS",
          "perm_importance_mean": 0.0014228797705813424,
          "perm_importance_std": 0.0013847410551832294
        },
        {
          "feature": "panel_IVRET_QBTS",
          "perm_importance_mean": 0.0011199890564618565,
          "perm_importance_std": 0.001498633946647851
        },
        {
          "feature": "panel_IV_QUBT",
          "perm_importance_mean": 0.0009797928449419401,
          "perm_importance_std": 0.0007422671284459504
        },
        {
          "feature": "panel_IVRET_IONQ",
          "perm_importance_mean": 0.0008237532954930349,
          "perm_importance_std": 0.0013567489681731177
        },
        {
          "feature": "panel_IVRET_QUBT",
          "perm_importance_mean": 0.0003629793976440976,
          "perm_importance_std": 0.0009259283873520914
        },
        {
          "feature": "sym_IONQ",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_RGTI",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_QBTS",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_QUBT",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "panel_IVRET_RGTI",
          "perm_importance_mean": -0.00020414139571911516,
          "perm_importance_std": 0.00041048914262780143
        },
        {
          "feature": "panel_IV_RGTI",
          "perm_importance_mean": -0.0002984953795100387,
          "perm_importance_std": 0.001324538824153699
        },
        {
          "feature": "panel_IV_IONQ",
          "perm_importance_mean": -0.0010357578255042077,
          "perm_importance_std": 0.000919156922385026
        }
      ],
      "feature_shap_avg": [
        {
          "feature": "panel_IV_QBTS",
          "avg_contrib": 0.01229408010840416
        },
        {
          "feature": "panel_IV_IONQ",
          "avg_contrib": 0.007051915396004915
        },
        {
          "feature": "panel_IV_RGTI",
          "avg_contrib": 0.0029575477819889784
        },
        {
          "feature": "panel_IVRET_QUBT",
          "avg_contrib": 0.0017880438826978207
        },
        {
          "feature": "panel_IVRET_IONQ",
          "avg_contrib": 0.0010564177064225078
        },
        {
          "feature": "sym_RGTI",
          "avg_contrib": 0.00048052778583951294
        },
        {
          "feature": "panel_IVRET_QBTS",
          "avg_contrib": 0.00039085480966605246
        },
        {
          "feature": "panel_IVRET_RGTI",
          "avg_contrib": -0.0002882556291297078
        },
        {
          "feature": "sym_QUBT",
          "avg_contrib": -0.0010795941343531013
        },
        {
          "feature": "sym_QBTS",
          "avg_contrib": -0.001131878001615405
        },
        {
          "feature": "sym_IONQ",
          "avg_contrib": -0.0026215624529868364
        },
        {
          "feature": "panel_IV_QUBT",
          "avg_contrib": -0.002995040500536561
        }
      ],
      "sym_shap_avg": [
        {
          "feature": "sym_RGTI",
          "avg_shap": 0.00048052778583951294,
          "ticker": "RGTI",
          "direction": "\u2191"
        },
        {
          "feature": "sym_QUBT",
          "avg_shap": -0.0010795941343531013,
          "ticker": "QUBT",
          "direction": "\u2193"
        },
        {
          "feature": "sym_QBTS",
          "avg_shap": -0.001131878001615405,
          "ticker": "QBTS",
          "direction": "\u2193"
        },
        {
          "feature": "sym_IONQ",
          "avg_shap": -0.0026215624529868364,
          "ticker": "IONQ",
          "direction": "\u2193"
        }
      ],
      "eval_path": "outputs\\evaluations\\pooled_iv_ret_fwd_20250828_175015_eval_evaluation.json"
    },
    "pooled_iv_clip": {
      "metrics": {
        "RMSE": 0.9726818633353197,
        "R2": 0.0848346599801314,
        "n_train": 384,
        "n_test": 96,
        "n_features": 4,
        "tickers": [
          "QBTS",
          "IONQ",
          "RGTI",
          "QUBT"
        ],
        "start": "2025-06-02T00:00:00+00:00",
        "end": "2025-08-06T00:00:00+00:00",
        "forward_steps": 15,
        "tolerance": "2s",
        "test_frac": 0.2,
        "model_path": "outputs\\models\\pooled_iv_clip_20250828_175015.json"
      },
      "xgb_importances": [
        {
          "feature": "panel_IV_QUBT",
          "gain": 0.2918587625026703,
          "weight": 781.0,
          "cover": 175.31370544433594,
          "total_gain": 227.9416961669922,
          "total_cover": 136920.0
        },
        {
          "feature": "panel_IV_RGTI",
          "gain": 0.2094419002532959,
          "weight": 688.0,
          "cover": 146.79942321777344,
          "total_gain": 144.0960235595703,
          "total_cover": 100998.0
        },
        {
          "feature": "panel_IV_IONQ",
          "gain": 0.2079187035560608,
          "weight": 1576.0,
          "cover": 120.53236389160156,
          "total_gain": 327.67987060546875,
          "total_cover": 189959.0
        },
        {
          "feature": "panel_IV_QBTS",
          "gain": 0.18369539082050323,
          "weight": 2480.0,
          "cover": 86.99878692626953,
          "total_gain": 455.5645751953125,
          "total_cover": 215757.0
        }
      ],
      "permutation_importances": [
        {
          "feature": "panel_IV_QBTS",
          "perm_importance_mean": 0.03879845907607735,
          "perm_importance_std": 0.02440977380996332
        },
        {
          "feature": "panel_IV_QUBT",
          "perm_importance_mean": 0.031767443280566486,
          "perm_importance_std": 0.008390517445321979
        },
        {
          "feature": "panel_IV_IONQ",
          "perm_importance_mean": 0.015535472253965787,
          "perm_importance_std": 0.007633953929407947
        },
        {
          "feature": "panel_IV_RGTI",
          "perm_importance_mean": 0.011634641105923804,
          "perm_importance_std": 0.008336964061259916
        }
      ],
      "feature_shap_avg": [
        {
          "feature": "panel_IV_IONQ",
          "avg_contrib": 0.014136277139186859
        },
        {
          "feature": "panel_IV_QUBT",
          "avg_contrib": 0.009333839640021324
        },
        {
          "feature": "panel_IV_RGTI",
          "avg_contrib": -0.008722134865820408
        },
        {
          "feature": "panel_IV_QBTS",
          "avg_contrib": -0.030124768614768982
        }
      ],
      "sym_shap_avg": [],
      "eval_path": "outputs\\evaluations\\pooled_iv_clip_20250828_175015_eval_evaluation.json"
    }
  }
}