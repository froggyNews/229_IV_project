{
  "config": {
    "tickers": [
      "QBTS",
      "IONQ",
      "RGTI",
      "QUBT"
    ],
    "start": "2025-06-02",
    "end": "2025-08-06",
    "forward_steps": 15,
    "test_frac": 0.2,
    "timestamp": "20250829_082609",
    "db_path": "data\\iv_data_1m.db",
    "output_dir": "outputs",
    "xgb_params": {
      "objective": "reg:squarederror",
      "n_estimators": 350,
      "learning_rate": 0.05,
      "max_depth": 6,
      "subsample": 0.9,
      "colsample_bytree": 0.9,
      "random_state": 42,
      "n_jobs": -1,
      "tree_method": "hist"
    },
    "peer_targets": [
      "QBTS",
      "IONQ",
      "RGTI",
      "QUBT"
    ],
    "peer_target_kinds": [
      "iv_ret",
      "iv"
    ],
    "tolerance": "2s",
    "drop_zero_iv_ret": true,
    "save_per_row": false
  },
  "pooled_models": {
    "iv_ret_fwd": {
      "rmse": 1.26571233549128,
      "r2": -0.0043666543131788416,
      "n_train": 304232,
      "n_test": 76058,
      "features": [
        "panel_IV_QBTS",
        "panel_IV_IONQ",
        "panel_IV_RGTI",
        "panel_IV_QUBT",
        "panel_IVRET_QBTS",
        "panel_IVRET_IONQ",
        "panel_IVRET_RGTI",
        "panel_IVRET_QUBT",
        "sym_QBTS",
        "sym_IONQ",
        "sym_RGTI",
        "sym_QUBT"
      ]
    },
    "iv_clip": {
      "rmse": 0.9877560009642992,
      "r2": 0.051676278471440074,
      "n_train": 304232,
      "n_test": 76058,
      "features": [
        "panel_IV_QBTS",
        "panel_IV_IONQ",
        "panel_IV_RGTI",
        "panel_IV_QUBT"
      ]
    }
  },
  "peer_effects": {
    "QBTS_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.623882900257006,
        "r2": 0.41804217670371946,
        "n_train": 77926,
        "n_test": 19482,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 97408,
        "n_features": 18
      }
    },
    "IONQ_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.3046912555397768,
        "r2": 0.3823006971620856,
        "n_train": 76692,
        "n_test": 19174,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 95866,
        "n_features": 18
      }
    },
    "RGTI_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.5567892687238175,
        "r2": 0.4529711182278986,
        "n_train": 85005,
        "n_test": 21252,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 106257,
        "n_features": 18
      }
    },
    "QUBT_iv_ret": {
      "status": "success",
      "metrics": {
        "rmse": 0.6726464657427255,
        "r2": 0.39546397369143516,
        "n_train": 64607,
        "n_test": 16152,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv_ret",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 80759,
        "n_features": 18
      }
    },
    "QBTS_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.047197871475899704,
        "r2": 0.9793818113396547,
        "n_train": 77938,
        "n_test": 19485,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 97423,
        "n_features": 18
      }
    },
    "IONQ_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.029377948359956642,
        "r2": 0.988973184510564,
        "n_train": 76704,
        "n_test": 19177,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 95881,
        "n_features": 18
      }
    },
    "RGTI_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.03495287594975831,
        "r2": 0.981288218578354,
        "n_train": 85017,
        "n_test": 21255,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 106272,
        "n_features": 18
      }
    },
    "QUBT_iv": {
      "status": "success",
      "metrics": {
        "rmse": 0.042791530870724,
        "r2": 0.9795211247387277,
        "n_train": 64619,
        "n_test": 16155,
        "n_features": 18
      },
      "feature_names": [
        "iv_ret_1h",
        "opt_vol_change_1h",
        "delta",
        "gamma",
        "vega",
        "hour",
        "minute",
        "day_of_week",
        "opt_volume",
        "time_to_expiry",
        "days_to_expiry",
        "strike_price",
        "option_type_enc",
        "sabr_alpha",
        "sabr_rho",
        "sabr_nu",
        "moneyness",
        "log_moneyness"
      ],
      "config": {
        "target_kind": "iv",
        "forward_steps": 15,
        "test_frac": 0.2,
        "n_samples": 80774,
        "n_features": 18
      }
    }
  },
  "baseline_correlations": {
    "iv_levels": {
      "correlation_matrix": {
        "QBTS": {
          "QBTS": 1.0,
          "IONQ": 0.06017915632778361,
          "RGTI": 0.06188268675389383,
          "QUBT": 0.05459577838782708
        },
        "IONQ": {
          "QBTS": 0.06017915632778361,
          "IONQ": 1.0,
          "RGTI": 0.05254545792980442,
          "QUBT": 0.04317077467792655
        },
        "RGTI": {
          "QBTS": 0.06188268675389383,
          "IONQ": 0.05254545792980442,
          "RGTI": 1.0,
          "QUBT": 0.038654242144169244
        },
        "QUBT": {
          "QBTS": 0.05459577838782708,
          "IONQ": 0.04317077467792655,
          "RGTI": 0.038654242144169244,
          "QUBT": 1.0
        }
      },
      "description": "Historical correlation matrix of IV levels",
      "n_tickers": 4
    },
    "iv_returns": {
      "correlation_matrix": {
        "QBTS": {
          "QBTS": 1.0,
          "IONQ": -0.0013208468920884572,
          "RGTI": -0.0003493283764688382,
          "QUBT": -0.0011534558595494909
        },
        "IONQ": {
          "QBTS": -0.0013208468920884572,
          "IONQ": 1.0,
          "RGTI": -3.639204176347355e-05,
          "QUBT": 0.0032590306618133116
        },
        "RGTI": {
          "QBTS": -0.0003493283764688382,
          "IONQ": -3.639204176347355e-05,
          "RGTI": 1.0,
          "QUBT": 0.009040810428195661
        },
        "QUBT": {
          "QBTS": -0.0011534558595494909,
          "IONQ": 0.0032590306618133116,
          "RGTI": 0.009040810428195661,
          "QUBT": 1.0
        }
      },
      "description": "Historical correlation matrix of IV returns",
      "n_tickers": 4
    }
  },
  "peer_group_analysis": {},
  "evaluation": {
    "pooled_iv_ret_fwd": {
      "metrics": {
        "RMSE": 1.26571233549128,
        "R2": -0.0043666543131788416,
        "n_train": 304232,
        "n_test": 76058,
        "n_features": 12,
        "tickers": [
          "QBTS",
          "IONQ",
          "RGTI",
          "QUBT"
        ],
        "start": "2025-06-02T00:00:00+00:00",
        "end": "2025-08-06T00:00:00+00:00",
        "forward_steps": 15,
        "tolerance": "2s",
        "test_frac": 0.2,
        "model_path": "outputs\\models\\pooled_iv_ret_fwd_20250829_082609.json"
      },
      "xgb_importances": [
        {
          "feature": "sym_QBTS",
          "gain": 17.700862884521484,
          "weight": 712.0,
          "cover": 5993.30908203125,
          "total_gain": 12603.0146484375,
          "total_cover": 4267236.0
        },
        {
          "feature": "sym_RGTI",
          "gain": 16.95642852783203,
          "weight": 529.0,
          "cover": 7756.72802734375,
          "total_gain": 8969.9501953125,
          "total_cover": 4103309.0
        },
        {
          "feature": "sym_QUBT",
          "gain": 15.228137969970703,
          "weight": 452.0,
          "cover": 27344.005859375,
          "total_gain": 6883.1181640625,
          "total_cover": 12359491.0
        },
        {
          "feature": "sym_IONQ",
          "gain": 10.638447761535645,
          "weight": 336.0,
          "cover": 17615.341796875,
          "total_gain": 3574.5185546875,
          "total_cover": 5918755.0
        },
        {
          "feature": "panel_IV_RGTI",
          "gain": 8.569425582885742,
          "weight": 2081.0,
          "cover": 24925.212890625,
          "total_gain": 17832.974609375,
          "total_cover": 51869368.0
        },
        {
          "feature": "panel_IV_QBTS",
          "gain": 7.049421310424805,
          "weight": 2683.0,
          "cover": 26480.73046875,
          "total_gain": 18913.59765625,
          "total_cover": 71047800.0
        },
        {
          "feature": "panel_IVRET_RGTI",
          "gain": 6.765146255493164,
          "weight": 1700.0,
          "cover": 65680.421875,
          "total_gain": 11500.7490234375,
          "total_cover": 111656720.0
        },
        {
          "feature": "panel_IVRET_QUBT",
          "gain": 6.1380157470703125,
          "weight": 1773.0,
          "cover": 36907.484375,
          "total_gain": 10882.7021484375,
          "total_cover": 65436968.0
        },
        {
          "feature": "panel_IV_QUBT",
          "gain": 5.886320114135742,
          "weight": 1915.0,
          "cover": 22822.716796875,
          "total_gain": 11272.302734375,
          "total_cover": 43705504.0
        },
        {
          "feature": "panel_IVRET_IONQ",
          "gain": 5.885359287261963,
          "weight": 1844.0,
          "cover": 28654.83203125,
          "total_gain": 10852.6025390625,
          "total_cover": 52839512.0
        },
        {
          "feature": "panel_IVRET_QBTS",
          "gain": 5.438781261444092,
          "weight": 1679.0,
          "cover": 56336.19140625,
          "total_gain": 9131.7138671875,
          "total_cover": 94588464.0
        },
        {
          "feature": "panel_IV_IONQ",
          "gain": 5.391449451446533,
          "weight": 2326.0,
          "cover": 24579.728515625,
          "total_gain": 12540.51171875,
          "total_cover": 57172448.0
        }
      ],
      "permutation_importances": [
        {
          "feature": "panel_IVRET_QUBT",
          "perm_importance_mean": 0.024132412949103933,
          "perm_importance_std": 0.0020772835576480606
        },
        {
          "feature": "panel_IV_QUBT",
          "perm_importance_mean": 0.010239254728615777,
          "perm_importance_std": 0.00212181807321851
        },
        {
          "feature": "panel_IV_IONQ",
          "perm_importance_mean": 0.0017559829515899849,
          "perm_importance_std": 0.0015356788974107173
        },
        {
          "feature": "panel_IVRET_IONQ",
          "perm_importance_mean": 0.0017389955612776564,
          "perm_importance_std": 0.0014427947281278977
        },
        {
          "feature": "panel_IV_RGTI",
          "perm_importance_mean": 0.0015667365230668917,
          "perm_importance_std": 0.0035361543897909505
        },
        {
          "feature": "panel_IVRET_QBTS",
          "perm_importance_mean": 0.00029744958046591387,
          "perm_importance_std": 0.001306663341303123
        },
        {
          "feature": "sym_RGTI",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_QBTS",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_QUBT",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "sym_IONQ",
          "perm_importance_mean": 0.0,
          "perm_importance_std": 0.0
        },
        {
          "feature": "panel_IVRET_RGTI",
          "perm_importance_mean": -9.457178871246086e-05,
          "perm_importance_std": 0.0009228940704429739
        },
        {
          "feature": "panel_IV_QBTS",
          "perm_importance_mean": -0.0015314425450792869,
          "perm_importance_std": 0.0012452353112748825
        }
      ],
      "feature_shap_avg": [
        {
          "feature": "panel_IV_QUBT",
          "avg_contrib": 0.004750138148665428
        },
        {
          "feature": "panel_IVRET_QBTS",
          "avg_contrib": 0.002151659457013011
        },
        {
          "feature": "panel_IVRET_IONQ",
          "avg_contrib": 0.001982462825253606
        },
        {
          "feature": "panel_IV_RGTI",
          "avg_contrib": 0.0018177549354732037
        },
        {
          "feature": "panel_IVRET_RGTI",
          "avg_contrib": 0.001225546933710575
        },
        {
          "feature": "panel_IVRET_QUBT",
          "avg_contrib": -0.00037470145616680384
        },
        {
          "feature": "sym_RGTI",
          "avg_contrib": -0.0017758901230990887
        },
        {
          "feature": "sym_IONQ",
          "avg_contrib": -0.0019173991167917848
        },
        {
          "feature": "sym_QBTS",
          "avg_contrib": -0.002186406869441271
        },
        {
          "feature": "panel_IV_IONQ",
          "avg_contrib": -0.002330540679395199
        },
        {
          "feature": "panel_IV_QBTS",
          "avg_contrib": -0.003182515501976013
        },
        {
          "feature": "sym_QUBT",
          "avg_contrib": -0.00706647289916873
        }
      ],
      "sym_shap_avg": [
        {
          "feature": "sym_RGTI",
          "avg_shap": -0.0017758901230990887,
          "ticker": "RGTI",
          "direction": "\u2193"
        },
        {
          "feature": "sym_IONQ",
          "avg_shap": -0.0019173991167917848,
          "ticker": "IONQ",
          "direction": "\u2193"
        },
        {
          "feature": "sym_QBTS",
          "avg_shap": -0.002186406869441271,
          "ticker": "QBTS",
          "direction": "\u2193"
        },
        {
          "feature": "sym_QUBT",
          "avg_shap": -0.00706647289916873,
          "ticker": "QUBT",
          "direction": "\u2193"
        }
      ],
      "eval_path": "outputs\\evaluations\\pooled_iv_ret_fwd_20250829_082609_eval_evaluation.json"
    },
    "pooled_iv_clip": {
      "metrics": {
        "RMSE": 0.9877560009642992,
        "R2": 0.051676278471440074,
        "n_train": 304232,
        "n_test": 76058,
        "n_features": 4,
        "tickers": [
          "QBTS",
          "IONQ",
          "RGTI",
          "QUBT"
        ],
        "start": "2025-06-02T00:00:00+00:00",
        "end": "2025-08-06T00:00:00+00:00",
        "forward_steps": 15,
        "tolerance": "2s",
        "test_frac": 0.2,
        "model_path": "outputs\\models\\pooled_iv_clip_20250829_082609.json"
      },
      "xgb_importances": [
        {
          "feature": "panel_IV_IONQ",
          "gain": 11.413469314575195,
          "weight": 5013.0,
          "cover": 33416.19140625,
          "total_gain": 57215.72265625,
          "total_cover": 167515360.0
        },
        {
          "feature": "panel_IV_QBTS",
          "gain": 9.797001838684082,
          "weight": 4912.0,
          "cover": 28913.51171875,
          "total_gain": 48122.875,
          "total_cover": 142023168.0
        },
        {
          "feature": "panel_IV_RGTI",
          "gain": 9.393735885620117,
          "weight": 4624.0,
          "cover": 28101.59375,
          "total_gain": 43436.6328125,
          "total_cover": 129941768.0
        },
        {
          "feature": "panel_IV_QUBT",
          "gain": 6.551479816436768,
          "weight": 5345.0,
          "cover": 25348.765625,
          "total_gain": 35017.66015625,
          "total_cover": 135489152.0
        }
      ],
      "permutation_importances": [
        {
          "feature": "panel_IV_IONQ",
          "perm_importance_mean": 0.01762277336362401,
          "perm_importance_std": 0.0008388603992134493
        },
        {
          "feature": "panel_IV_QUBT",
          "perm_importance_mean": 0.011380672954794035,
          "perm_importance_std": 0.0008110374126477613
        },
        {
          "feature": "panel_IV_RGTI",
          "perm_importance_mean": 0.011089167456928561,
          "perm_importance_std": 0.0013447503085448672
        },
        {
          "feature": "panel_IV_QBTS",
          "perm_importance_mean": 0.009119404537143416,
          "perm_importance_std": 0.0012376214587932538
        }
      ],
      "feature_shap_avg": [
        {
          "feature": "panel_IV_IONQ",
          "avg_contrib": 0.0023928703740239143
        },
        {
          "feature": "panel_IV_RGTI",
          "avg_contrib": 0.0006155545124784112
        },
        {
          "feature": "panel_IV_QUBT",
          "avg_contrib": -0.0017549908952787519
        },
        {
          "feature": "panel_IV_QBTS",
          "avg_contrib": -0.004130688030272722
        }
      ],
      "sym_shap_avg": [],
      "eval_path": "outputs\\evaluations\\pooled_iv_clip_20250829_082609_eval_evaluation.json"
    }
  }
}